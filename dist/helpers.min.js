!function(a,b){"use strict";var c=a.Intl||a.IntlPolyfill;"function"==typeof define&&define.amd&&define(["intl-messageformat"],function(a){return b(c,a)}),"object"==typeof module&&module.exports&&(module.exports=b(c,require("intl-messageformat"))),a.DustHelperIntl=b(c,a.IntlMessageFormat)}("undefined"!=typeof global?global:this,function(a,b){function c(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b,c){var d=a;return"function"==typeof a&&(a.isFunction===!0?d=a():(d="",b.tap(function(a){return d+=a,""}).render(a,c).untap(),""===d&&(d=!1))),d}function e(a,b){var c,d,e=b.length-1;for(c=0;e>c&&(d=b[c],a)&&a.hasOwnProperty(d);c+=1)a=a[d];return c===e&&a&&a.hasOwnProperty(b[e])?a[b[e]]:void 0}function f(a,b){var c,d;for(c=a.stack;c&&(d=e(c.head,b),void 0===d);c=c.tail);return void 0===d&&(d=e(a.global,b)),d}function g(a,b,c){return b.locales?d(b.locales,a,c):f(c,[m,"locales"])||this.locale}function h(a,b,e,g){var h,i,j,k={};e.formatName?(j=d(e.formatName,b,g),delete e.formatName,h=f(g,[m,"formats",a,j]),h=c({},h),c(h,e)):h=e;for(i in h)h.hasOwnProperty(i)&&(k[i]=d(h[i],b,g));return k}function i(a,c,e,h){var i,j,k,l={};if(h=h||{},h.hasOwnProperty("_msg"))j=h._msg;else{if(!h._key)throw new ReferenceError("@intlMessage needs either a `_msg` or `_key` parameter");j=f(c,[m,"messages",d(h._key,a,c)])}return"object"==typeof j&&"function"==typeof j.format?(a.write(j.format(h)),a):(l=f(c,[m,"formats"]),i=g(a,h,c),k=new b(j,i,l),a.write(k.format(h)),a)}function j(b,c,e,f){var i,j,k,l;if(f=f||{},!f.hasOwnProperty("val"))throw new ReferenceError("@intlNumber needs a `val` parameter");return k=d(f.val,b,c),delete f.val,i=h("number",b,f,c),j=g(b,f,c),l=new a.NumberFormat(j,i),b.write(l.format(k)),b}function k(b,c,e,f){var i,j,k,l;if(f=f||{},!f.hasOwnProperty("val"))throw new ReferenceError("@intlDate needs a `val` parameter");return k=d(f.val,b,c),delete f.val,k=new Date(k).getTime(),i=h("date",b,f,c),j=g(b,f,c),l=new a.DateTimeFormat(j,i),b.write(l.format(k)),b}function l(a,b,c,d){var e={};return c.block?(e[m]=d||{},a.render(c.block,b.push(e))):a}if(!a)throw new ReferenceError("Intl must be provided.");if(!b)throw new ReferenceError("IntlMessageFormat must be provided.");var m="intl";return{helpers:{intlMessage:i,intlNumber:j,intlDate:k,intl:l},registerWith:function(a){a.helpers.intlMessage=i,a.helpers.intlNumber=j,a.helpers.intlDate=k,a.helpers.intl=l}}});